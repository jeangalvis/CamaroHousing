<div class="container mt-5 mb-5">
  <div class="d-flex justify-content-center">
    <form
      [formGroup]="loginForm"
      class="col-sm-12 col-md-8 col-lg-6 col-xl-4"
      (submit)="onSubmit($event)"
    >
      <div class="mb-3">
        <label for="InputUsername" class="form-label">Usuario*</label>
        <input
          type="text"
          class="form-control"
          id="InputUsername"
          name="username"
          formControlName="username"
          [ngClass]="{
            'is-invalid':
              hasErrors('username', 'required') ||
              hasErrors('username', 'minlength') ||
              hasErrors('username', 'maxlength')
          }"
        />
        @if (showErrors) { @if (hasErrors('username', 'required')) {
        <span class="text-danger">El nombre de usuario es requerido.</span>
        }@else if (hasErrors('username', 'minlength')) {
        <span class="text-danger"
          >El nombre de usuario debe ser minimo 5 caracteres.</span
        >
        }@else if (hasErrors('username', 'maxlength')) {
        <span class="text-danger"
          >El nombre de usuario debe ser maximo 50 caracteres.</span
        >
        } }
      </div>
      <div class="mb-3">
        <label for="InputPassword" class="form-label">Contrase√±a*</label>
        <input
          type="password"
          class="form-control"
          id="InputPassword"
          name="password"
          formControlName="password"
          [ngClass]="{
            'is-invalid':
              hasErrors('password', 'required') ||
              hasErrors('password', 'minlength') ||
              hasErrors('password', 'maxlength')
          }"
        />
        @if (showErrors) { @if (hasErrors('password', 'required')) {
        <span class="text-danger">El campo es requerido.</span>
        }@else if (hasErrors('password', 'minlength')) {
        <span class="text-danger">El ncampo debe ser minimo 8 caracteres.</span>
        }@else if (hasErrors('password', 'maxlength')) {
        <span class="text-danger"
          >El campo debe ser maximo 255 caracteres.</span
        >
        } }
      </div>
      <button type="submit" class="btn btn-login">Ingresar</button>
      @if (successMessage) {
      <div class="alert alert-success mt-3 text-center" role="alert">
        {{ successMessage }}
      </div>
      }@else if(RefusedMessage) {
      <div class="alert alert-info mt-3 text-center" role="alert">
        {{ RefusedMessage }}
      </div>
      } @else if(ErrorMessage){
      <div class="alert alert-danger mt-3 text-center" role="alert">
        {{ ErrorMessage }}
      </div>
      }
    </form>
  </div>
</div>
